# Odroid_displayWorked
–º–∏–Ω–∏ –¥–æ–∫–∞ –æ —Ç–æ–º –∫–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–∏—Å–ø–ª–µ–π –Ω–∞ —Ä–æ–±–æ–Ω—è–Ω–µ 
–ö–æ–Ω–µ—á–Ω–æ! –ù–∏–∂–µ ‚Äî –ø–æ–ª–Ω–∞—è, –≥–æ—Ç–æ–≤–∞—è –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é **—Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è** –¥–ª—è –≤–∞—à–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞ **"–ê–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ä–æ–±–æ-–Ω—è–Ω—è –Ω–∞ Odroid C4 —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π ROS 2"**. –ï—ë –º–æ–∂–Ω–æ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –∫–∞–∫ `README.md` –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–∞–∫ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –¥–ª—è —Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏—è, –æ—Ç–ª–∞–¥–∫–∏ –∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è.

---

> **–ü–ª–∞—Ç—Ñ–æ—Ä–º–∞**: Odroid C4 + Ubuntu 20.04 (minimal)  
> **–ì—Ä–∞—Ñ–∏–∫–∞**: –ü—Ä—è–º–æ–π –≤—ã–≤–æ–¥ –≤ framebuffer (`linuxfb`)  
> **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ**: –ß–µ—Ä–µ–∑ ROS 2   
> **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏**: –¢–æ–ª—å–∫–æ —Å–∏—Å—Ç–µ–º–Ω—ã–µ –ø–∞–∫–µ—Ç—ã ‚Äî –±–µ–∑ `pip` –¥–ª—è PyQt5

---

## üéØ –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ

–ü–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω—ã–π, –∞–≤—Ç–æ–Ω–æ–º–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å –∞–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–º –ª–∏—Ü–æ–º, –æ—Ç–æ–±—Ä–∞–∂–∞—é—â–∏–π—Å—è –Ω–∞ –ø–æ–¥–∫–ª—é—á—ë–Ω–Ω–æ–º HDMI/LCD-–¥–∏—Å–ø–ª–µ–µ.  
–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç:
- –ú–∏–≥–∞–Ω–∏–µ –≥–ª–∞–∑
- –ê–Ω–∏–º–∞—Ü–∏—é —Ä—Ç–∞ (—É–ª—ã–±–∫–∞, —Ä–∞–∑–≥–æ–≤–æ—Ä, –Ω–µ–π—Ç—Ä–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ)
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Ä–µ–ø–ª–∏–∫ —Ä–æ–±–æ—Ç–∞)
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ ROS 2 —Ç–æ–ø–∏–∫ `/robo_face/command`

---

## üì¶ –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

### –ê–ø–ø–∞—Ä–∞—Ç–Ω—ã–µ
- Odroid C4

### –ü—Ä–æ–≥—Ä–∞–º–º–Ω—ã–µ
- **–û–°**: Ubuntu 20.04 minimal (–æ–±—Ä–∞–∑ –æ—Ç Hardkernel —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
- **ROS 2**: Foxy Fitzroy (–æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º–∞—è –≤–µ—Ä—Å–∏—è –¥–ª—è Ubuntu 20.04)
- **–ü–∞–∫–µ—Ç—ã**:
  - `python3-pyqt5` (—É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ `apt`, **–ù–ï —á–µ—Ä–µ–∑ `pip`**)
  - `ros-foxy-rclpy`
  - `ros-foxy-std-msgs`

---

## üóÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
/root/
‚îú‚îÄ‚îÄ robo_face.py              # –û—Å–Ω–æ–≤–Ω–æ–π —Å–∫—Ä–∏–ø—Ç —Å ROS 2 –∏ –∞–Ω–∏–º–∞—Ü–∏–µ–π
‚îú‚îÄ‚îÄ robo_face_simple.py       # –í–µ—Ä—Å–∏—è –ë–ï–ó ROS (–¥–ª—è –æ—Ç–ª–∞–¥–∫–∏)
‚îú‚îÄ‚îÄ /etc/systemd/system/robo-face.service  # –ê–≤—Ç–æ–∑–∞–ø—É—Å–∫
‚îî‚îÄ‚îÄ README.md                 # –≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç
```

---

## ‚öôÔ∏è –£—Å—Ç–∞–Ω–æ–≤–∫–∞

### 1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ PyQt5 —á–µ—Ä–µ–∑ —Å–∏—Å—Ç–µ–º–Ω—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä

```bash
sudo apt update
sudo apt install python3-pyqt5
```

> ‚ùå **–ù–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `pip install PyQt5`** ‚Äî –æ–Ω –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ ARM64 –≤ Ubuntu 20.04.

### 2. –°–æ–∑–¥–∞–Ω —Å–∫—Ä–∏–ø—Ç

–°–æ–∑–¥–∞–Ω —Ñ–∞–π–ª `/root/robo_face.py` —Å [—Ñ–∏–Ω–∞–ª—å–Ω–æ–π –≤–µ—Ä—Å–∏–µ–π –∫–æ–¥–∞](#–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ-a-robo_facepy).

---

## ‚ñ∂Ô∏è –ó–∞–ø—É—Å–∫

### –í—Ä—É—á–Ω—É—é (–¥–ª—è —Ç–µ—Å—Ç–∞)

```bash
cd /root
source /opt/ros/foxy/setup.bash
python3 robo_face.py
```

### –û—Ç–ø—Ä–∞–≤–∫–∞ –∫–æ–º–∞–Ω–¥ —á–µ—Ä–µ–∑ ROS 2

–í –¥—Ä—É–≥–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ:

```bash
source /opt/ros/foxy/setup.bash

# –ú–æ—Ä–≥–Ω—É—Ç—å
ros2 topic pub /robo_face/command std_msgs/msg/String "data: 'blink'" -1

# –ù–∞—á–∞—Ç—å "–≥–æ–≤–æ—Ä–∏—Ç—å"
ros2 topic pub /robo_face/command std_msgs/msg/String "data: 'talk'" -1

# –ü–æ–∫–∞–∑–∞—Ç—å —Ç–µ–∫—Å—Ç
ros2 topic pub /robo_face/command std_msgs/msg/String "data: 'text:–ü—Ä–∏–≤–µ—Ç! –Ø —Å–ª—É—à–∞—é...'" -1
```


---

## üîÑ –ê–≤—Ç–æ–∑–∞–ø—É—Å–∫ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ

### 1. –°–æ–∑–¥–∞–π—Ç–µ systemd-—é–Ω–∏—Ç

```bash
sudo nano /etc/systemd/system/robo-face.service
```

–°–æ–¥–µ—Ä–∂–∏–º–æ–µ:

```ini
[Unit]
Description=Robo Nanny Face Animation with ROS 2
After=multi-user.target network.target

[Service]
Type=simple
User=root
WorkingDirectory=/root
Environment=QT_QPA_PLATFORM=linuxfb
ExecStart=/bin/bash -c 'source /opt/ros/foxy/setup.bash && exec /usr/bin/python3 /root/robo_face.py'
Restart=on-failure
RestartSec=5
StandardOutput=journal
StandardError=journal

[Install]
WantedBy=multi-user.target
```

### 2. –í–∫–ª—é—á–∏—Ç–µ —Å–µ—Ä–≤–∏—Å

```bash
sudo systemctl daemon-reload
sudo systemctl enable robo-face.service
sudo systemctl start robo-face.service
```

–¢–µ–ø–µ—Ä—å –ø—Ä–∏ **–∫–∞–∂–¥–æ–π –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–µ** —Ä–æ–±–æ-–Ω—è–Ω—è –±—É–¥–µ—Ç –ø–æ—è–≤–ª—è—Ç—å—Å—è –Ω–∞ —ç–∫—Ä–∞–Ω–µ –∏ —Å–ª—É—à–∞—Ç—å ROS-–∫–æ–º–∞–Ω–¥—ã.

---

## üõ† –û—Ç–ª–∞–¥–∫–∞

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–∏—Å–∞
```bash
sudo systemctl status robo-face.service
```

### –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏
```bash
journalctl -u robo-face.service -f
```

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–µ–∞–ª—å–Ω–æ–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ —ç–∫—Ä–∞–Ω–∞
```bash
cat /sys/class/graphics/fb0/virtual_size
```

### –ó–∞–ø—É—Å—Ç–∏—Ç—å –±–µ–∑ ROS (–µ—Å–ª–∏ ROS –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω)
–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `robo_face_simple.py` ‚Äî –∫–æ–ø–∏—é —Å–∫—Ä–∏–ø—Ç–∞ **–±–µ–∑ –∏–º–ø–æ—Ä—Ç–∞ `rclpy`**.

---

## üì° –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –∫–æ–º–∞–Ω–¥—ã

| –ö–æ–º–∞–Ω–¥–∞ | –≠—Ñ—Ñ–µ–∫—Ç |
|--------|-------|
| `blink` | –ú–æ—Ä–≥–Ω—É—Ç—å –æ–¥–∏–Ω —Ä–∞–∑ |
| `smile` | –£–ª—ã–±–∫–∞ (—Ä–æ—Ç-–¥—É–≥–∞) |
| `talk` | –ê–Ω–∏–º–∞—Ü–∏—è "—Ä–µ—á–∏" (—Ä–æ—Ç –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è/–∑–∞–∫—Ä—ã–≤–∞–µ—Ç—Å—è) |
| `neutral` | –ù–µ–π—Ç—Ä–∞–ª—å–Ω—ã–π —Ä–æ—Ç (–ø—Ä—è–º–∞—è –ª–∏–Ω–∏—è) |
| `open` | –û—Ç–∫—Ä—ã—Ç—ã–π —Ä–æ—Ç (–æ–≤–∞–ª—å–Ω—ã–π) |
| `text:–ª—é–±–æ–π —Ç–µ–∫—Å—Ç` | –û—Ç–æ–±—Ä–∞–∑–∏—Ç—å —Ç–µ–∫—Å—Ç –ø–æ–¥ –ª–∏—Ü–æ–º (–∏—Å—á–µ–∑–∞–µ—Ç —á–µ—Ä–µ–∑ 5 —Å–µ–∫) |

> –ü—Ä–∏–º–µ—Ä: `text:–û–ø–∞—Å–Ω–æ—Å—Ç—å!\n–û—Ç–æ–π–¥–∏!` ‚Üí –º–Ω–æ–≥–æ—Å—Ç—Ä–æ—á–Ω—ã–π —Ç–µ–∫—Å—Ç.

---

## üîí –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|--------|
| **–ì—Ä–∞—Ñ–∏–∫–∞** | `linuxfb` ‚Äî –ø—Ä—è–º–æ–π –≤—ã–≤–æ–¥ –≤ `/dev/fb0`, –±–µ–∑ X11/Wayland |
| **UI** | PyQt5 + `QPainter` (–≤–µ–∫—Ç–æ—Ä–Ω–∞—è –∞–Ω–∏–º–∞—Ü–∏—è) |
| **–ü–æ–≤–æ—Ä–æ—Ç** | –ü—Ä–æ–≥—Ä–∞–º–º–Ω—ã–π —á–µ—Ä–µ–∑ `QGraphicsView` (–Ω–∞ 90¬∞) |
| **ROS 2** | –û—Ç–¥–µ–ª—å–Ω—ã–π –ø–æ—Ç–æ–∫ + Qt-—Å–∏–≥–Ω–∞–ª—ã –¥–ª—è thread-safe –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è |
| **–ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å** | –†–∞–∑–º–µ—Ä—ã —á–∏—Ç–∞—é—Ç—Å—è –∏–∑ `/sys/class/graphics/fb0/virtual_size` |

---

## üìé –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ A: `robo_face.py` (—Ñ–∏–Ω–∞–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è)

> –°–º. –ø–æ–ª–Ω—ã–π –∫–æ–¥ –≤ –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö –æ—Ç–≤–µ—Ç–∞—Ö ‚Äî –æ–Ω –≤–∫–ª—é—á–∞–µ—Ç:
> - ROS-–≤–æ—Ä–∫–µ—Ä –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º –ø–æ—Ç–æ–∫–µ
> - –û–±—Ä–∞–±–æ—Ç–∫—É –∫–æ–º–∞–Ω–¥ `blink`, `talk`, `text:...`
> - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞ —ç–∫—Ä–∞–Ω–∞
> - –ö–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –ø–æ–≤–æ—Ä–æ—Ç –∏ —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ padding‚Äô–∞

---

## ‚ùì –ß–∞—Å—Ç—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è

| –ü—Ä–æ–±–ª–µ–º–∞ | –†–µ—à–µ–Ω–∏–µ |
|--------|--------|
| `ModuleNotFoundError: No module named 'rclpy'` | –í—ã–ø–æ–ª–Ω–∏—Ç–µ `source /opt/ros/foxy/setup.bash` –ø–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º |
| –≠–∫—Ä–∞–Ω –æ–±—Ä–µ–∑–∞–Ω –ø–æ –∫—Ä–∞—è–º | –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `boot.ini`: –¥–æ–±–∞–≤—å—Ç–µ `setenv disableoverscan "true"` |
| PyQt5 –Ω–µ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ `pip` | –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `sudo apt install python3-pyqt5` |
| –¢–µ–∫—Å—Ç –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è | –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤ –∫–æ–º–∞–Ω–¥–µ `text:...` –Ω–µ—Ç –æ–ø–µ—á–∞—Ç–æ–∫ –∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –æ–¥–∏–Ω–∞—Ä–Ω–∞—è –∫–∞–≤—ã—á–∫–∞ –≤ `ros2 topic pub` |

---

## üìù –ê–≤—Ç–æ—Ä –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∞

- **–†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫**: [–í–∞—à–µ –∏–º—è]
- **–î–∞—Ç–∞**: –î–µ–∫–∞–±—Ä—å 2025
- **–¶–µ–ª—å**: –≠–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —Ä–æ–±–æ—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –Ω—è–Ω–∏ –≤ embedded-—Å—Ä–µ–¥–µ

---

> üí° **–°–æ–≤–µ—Ç**: –î–ª—è –æ—Ç–ª–∞–¥–∫–∏ —Å–Ω–∞—á–∞–ª–∞ –∑–∞–ø—É—Å—Ç–∏—Ç–µ `robo_face_simple.py` (–±–µ–∑ ROS), —á—Ç–æ–±—ã —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –≥—Ä–∞—Ñ–∏–∫–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç. –ó–∞—Ç–µ–º –¥–æ–±–∞–≤—å—Ç–µ ROS 2.

---

–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ —ç—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç –∫–∞–∫ `README.md` ‚Äî –∏ —É –≤–∞—Å –±—É–¥–µ—Ç **–ø–æ–ª–Ω–æ–µ, —Å–∞–º–æ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ** –¥–ª—è —Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏—è –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞ –Ω–∞ –ª—é–±–æ–º Odroid C4. üéâ
